# Migration `20200417123337-response`

This migration has been generated by Robert Westbury at 4/17/2020, 12:33:37 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Response" (
    "body" text  NOT NULL DEFAULT '',
    "field" text  NOT NULL DEFAULT '',
    "formId" text  NOT NULL ,
    "id" SERIAL,
    "subject" text  NOT NULL DEFAULT '',
    PRIMARY KEY ("id")
) 

CREATE UNIQUE INDEX "Response_formId" ON "public"."Response"("formId")

ALTER TABLE "public"."Response" ADD FOREIGN KEY ("formId")REFERENCES "public"."Form"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200416225548-redo-notifications..20200417123337-response
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider      = "prisma-client-js"
@@ -38,10 +38,20 @@
   owner         User           @relation(fields: [ownerId], references: [id])
   name          String
   validation    Validation?
   notifications Notifications?
+  response      Response?
 }
+model Response {
+  id      Int    @default(autoincrement()) @id
+  field   String @default("")
+  subject String @default("")
+  body    String @default("")
+  formId  String
+  form    Form   @relation(fields: [formId], references: [id])
+}
+
 enum EmailNotificationSetting {
   ALL
   OWNER
   NONE
```



# Migration `20200416144505-add-email-options`

This migration has been generated by Robert Westbury at 4/16/2020, 2:45:05 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Notifications" DROP COLUMN "emails",
ADD COLUMN "emailBody" text  NOT NULL DEFAULT '',
ADD COLUMN "emailRecipients" text []  ,
ADD COLUMN "emailTitle" text  NOT NULL DEFAULT '';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200415212436-initial-notifications..20200416144505-add-email-options
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 generator client {
   provider      = "prisma-client-js"
@@ -41,13 +41,15 @@
   notifications Notifications?
 }
 model Notifications {
-  id       Int      @default(autoincrement()) @id
-  emails   String[]
-  webhooks String[]
-  formId   String
-  form     Form     @relation(fields: [formId], references: [id])
+  id              Int      @default(autoincrement()) @id
+  emailRecipients String[]
+  emailTitle      String   @default("")
+  emailBody       String   @default("")
+  webhooks        String[]
+  formId          String
+  form            Form     @relation(fields: [formId], references: [id])
 }
 model ValidationRule {
   id           Int        @default(autoincrement()) @id
```


